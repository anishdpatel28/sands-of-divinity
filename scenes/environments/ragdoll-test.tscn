[gd_scene load_steps=43 format=3 uid="uid://be7lbu7kwann1"]

[ext_resource type="Script" path="res://scripts/characters/player.gd" id="1_kvcmd"]
[ext_resource type="PackedScene" uid="uid://cx8phlas3stgx" path="res://scenes/characters/x-bot.tscn" id="1_xmfy2"]
[ext_resource type="Resource" uid="uid://qgqh4meckqi4" path="res://scripts/characters/MovementStates/upright/upright_idle.tres" id="2_0gb1c"]
[ext_resource type="Script" path="res://scripts/characters/camera-controller.gd" id="2_le3fx"]
[ext_resource type="Resource" uid="uid://kuhhmw2ux6dd" path="res://scripts/characters/MovementStates/upright/upright_sprint.tres" id="3_551lk"]
[ext_resource type="Resource" uid="uid://b6eacjajv1d58" path="res://scripts/characters/MovementStates/upright/upright_walk.tres" id="4_helw0"]
[ext_resource type="Script" path="res://scripts/characters/movement-controller.gd" id="5_am0s3"]
[ext_resource type="Script" path="res://scripts/characters/animation-controller.gd" id="6_lcjyk"]
[ext_resource type="Script" path="res://scripts/characters/stance.gd" id="7_viend"]
[ext_resource type="Resource" uid="uid://t7gtru1rq7vu" path="res://scripts/characters/MovementStates/crouch/crouch_idle.tres" id="8_piwpb"]
[ext_resource type="Resource" uid="uid://btts67hotmaix" path="res://scripts/characters/MovementStates/crouch/crouch_walk.tres" id="9_7uvns"]
[ext_resource type="Resource" uid="uid://c8kbo51u8g3p6" path="res://scripts/characters/MovementStates/crouch/crouch_sprint.tres" id="10_3oos8"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_uau8y"]

[sub_resource type="Sky" id="Sky_q1m2t"]
sky_material = SubResource("ProceduralSkyMaterial_uau8y")

[sub_resource type="Environment" id="Environment_0tkht"]
background_mode = 2
sky = SubResource("Sky_q1m2t")
ambient_light_source = 3
tonemap_mode = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pynob"]
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lvpd0"]
animation = &"Bellydancing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y5qvw"]
animation = &"CrouchIdle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v4w36"]
animation = &"UprightIdle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_f1myb"]
animation = &"Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0xtwe"]
animation = &"UprightRun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ohpo4"]
animation = &"CrouchWalk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_w67r0"]
animation = &"CrouchWalk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ra1ve"]
animation = &"UprightWalk"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_r887p"]
fadein_time = 0.25
fadeout_time = 0.25

[sub_resource type="Curve" id="Curve_yt6d1"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_ghgc3"]
xfade_time = 0.25
xfade_curve = SubResource("Curve_yt6d1")
input_0/name = "Idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "Walk"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "Run"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_uckkw"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_fhl4w"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_s8lhk"]
fadein_time = 0.25
fadeout_time = 0.25

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_rdd5f"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_2uaip"]

[sub_resource type="Curve" id="Curve_xlh2o"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_f0agk"]
xfade_time = 0.25
xfade_curve = SubResource("Curve_xlh2o")
input_0/name = "Upright"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "Crouch"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true

[sub_resource type="Curve" id="Curve_i8ebs"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_alipg"]
xfade_time = 0.25
xfade_curve = SubResource("Curve_i8ebs")
input_0/name = "Idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "Walk"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "Run"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_20bkf"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_asgyr"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_n0odk"]
graph_offset = Vector2(-407.408, 472.184)
"nodes/Anim Bellydancing/node" = SubResource("AnimationNodeAnimation_lvpd0")
"nodes/Anim Bellydancing/position" = Vector2(830, 1060)
"nodes/Anim Idle Crouch/node" = SubResource("AnimationNodeAnimation_y5qvw")
"nodes/Anim Idle Crouch/position" = Vector2(-120, 960)
"nodes/Anim Idle Upright/node" = SubResource("AnimationNodeAnimation_v4w36")
"nodes/Anim Idle Upright/position" = Vector2(-120, 530)
"nodes/Anim Jump/node" = SubResource("AnimationNodeAnimation_f1myb")
"nodes/Anim Jump/position" = Vector2(670, 1060)
"nodes/Anim Run Upright/node" = SubResource("AnimationNodeAnimation_0xtwe")
"nodes/Anim Run Upright/position" = Vector2(-120, 810)
"nodes/Anim Walk Crouch/node" = SubResource("AnimationNodeAnimation_ohpo4")
"nodes/Anim Walk Crouch/position" = Vector2(-120, 1100)
"nodes/Anim Walk Run/node" = SubResource("AnimationNodeAnimation_w67r0")
"nodes/Anim Walk Run/position" = Vector2(-120, 1240)
"nodes/Anim Walk Upright/node" = SubResource("AnimationNodeAnimation_ra1ve")
"nodes/Anim Walk Upright/position" = Vector2(-120, 670)
nodes/Bellydancing/node = SubResource("AnimationNodeOneShot_r887p")
nodes/Bellydancing/position = Vector2(830, 830)
"nodes/Crouch Movement/node" = SubResource("AnimationNodeTransition_ghgc3")
"nodes/Crouch Movement/position" = Vector2(280, 940)
"nodes/Idle Crouch TimeScale/node" = SubResource("AnimationNodeTimeScale_uckkw")
"nodes/Idle Crouch TimeScale/position" = Vector2(60, 950)
"nodes/Idle Upright TimeScale/node" = SubResource("AnimationNodeTimeScale_fhl4w")
"nodes/Idle Upright TimeScale/position" = Vector2(60, 520)
nodes/Jump/node = SubResource("AnimationNodeOneShot_s8lhk")
nodes/Jump/position = Vector2(670, 830)
"nodes/Run Crouch TimeScale/node" = SubResource("AnimationNodeTimeScale_rdd5f")
"nodes/Run Crouch TimeScale/position" = Vector2(60, 1230)
"nodes/Run Upright TimeScale/node" = SubResource("AnimationNodeTimeScale_2uaip")
"nodes/Run Upright TimeScale/position" = Vector2(60, 800)
"nodes/Stance Transition/node" = SubResource("AnimationNodeTransition_f0agk")
"nodes/Stance Transition/position" = Vector2(480, 830)
"nodes/Upright Movement/node" = SubResource("AnimationNodeTransition_alipg")
"nodes/Upright Movement/position" = Vector2(280, 690)
"nodes/Walk Crouch TimeScale/node" = SubResource("AnimationNodeTimeScale_20bkf")
"nodes/Walk Crouch TimeScale/position" = Vector2(60, 1090)
"nodes/Walk Upright TimeScale/node" = SubResource("AnimationNodeTimeScale_asgyr")
"nodes/Walk Upright TimeScale/position" = Vector2(60, 660)
nodes/output/position = Vector2(980, 840)
node_connections = [&"Bellydancing", 0, &"Jump", &"Bellydancing", 1, &"Anim Bellydancing", &"Crouch Movement", 0, &"Idle Crouch TimeScale", &"Crouch Movement", 1, &"Walk Crouch TimeScale", &"Crouch Movement", 2, &"Run Crouch TimeScale", &"Idle Crouch TimeScale", 0, &"Anim Idle Crouch", &"Idle Upright TimeScale", 0, &"Anim Idle Upright", &"Jump", 0, &"Stance Transition", &"Jump", 1, &"Anim Jump", &"Run Crouch TimeScale", 0, &"Anim Walk Run", &"Run Upright TimeScale", 0, &"Anim Run Upright", &"Stance Transition", 0, &"Upright Movement", &"Stance Transition", 1, &"Crouch Movement", &"Upright Movement", 0, &"Idle Upright TimeScale", &"Upright Movement", 1, &"Walk Upright TimeScale", &"Upright Movement", 2, &"Run Upright TimeScale", &"Walk Crouch TimeScale", 0, &"Anim Walk Crouch", &"Walk Upright TimeScale", 0, &"Anim Walk Upright", &"output", 0, &"Bellydancing"]

[sub_resource type="SphereShape3D" id="SphereShape3D_ap2id"]
radius = 0.07

[sub_resource type="CylinderShape3D" id="CylinderShape3D_on3if"]
height = 1.8
radius = 0.3

[sub_resource type="CylinderShape3D" id="CylinderShape3D_glxyi"]
height = 1.5
radius = 0.3

[node name="RagdollTest" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_0tkht")

[node name="Lights" type="Node" parent="."]

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
use_collision = true
size = Vector3(1000, 1, 1000)
material = SubResource("StandardMaterial3D_pynob")

[node name="Wall" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 5)
use_collision = true
size = Vector3(10, 4, 3)
material = SubResource("StandardMaterial3D_pynob")

[node name="Ceiling" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 3.75, 10)
use_collision = true
size = Vector3(10, 4, 3)
material = SubResource("StandardMaterial3D_pynob")

[node name="Player" type="CharacterBody3D" parent="." node_paths=PackedStringArray("afk_timer")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 8.28749)
script = ExtResource("1_kvcmd")
stances = {
"crouch": NodePath("Stances/crouch"),
"upright": NodePath("Stances/upright")
}
afk_timer = NodePath("AfkTimer")

[node name="MovementController" type="Node" parent="Player" node_paths=PackedStringArray("player", "mesh_root")]
script = ExtResource("5_am0s3")
player = NodePath("..")
mesh_root = NodePath("../MeshRoot")

[node name="AnimationController" type="Node" parent="Player" node_paths=PackedStringArray("player", "anim_tree", "anim_player")]
script = ExtResource("6_lcjyk")
player = NodePath("..")
anim_tree = NodePath("../MeshRoot/AnimationTree")
anim_player = NodePath("../MeshRoot/XBot/AnimationPlayer")

[node name="Stances" type="Node" parent="Player"]

[node name="upright" type="Node" parent="Player/Stances" node_paths=PackedStringArray("collider", "col_raycast")]
script = ExtResource("7_viend")
idle_state = ExtResource("2_0gb1c")
walk_state = ExtResource("4_helw0")
sprint_state = ExtResource("3_551lk")
collider = NodePath("../../UprightCollision")
col_raycast = NodePath("../../UprightCollision/UprightRayCast3D")

[node name="crouch" type="Node" parent="Player/Stances" node_paths=PackedStringArray("collider", "col_raycast")]
script = ExtResource("7_viend")
idle_state = ExtResource("8_piwpb")
walk_state = ExtResource("9_7uvns")
sprint_state = ExtResource("10_3oos8")
camera_height = 0.85
collider = NodePath("../../CrouchCollision")
col_raycast = NodePath("../../CrouchCollision/CrouchRayCast3D")

[node name="AfkTimer" type="Timer" parent="Player"]
one_shot = true

[node name="MeshRoot" type="Node3D" parent="Player"]

[node name="XBot" parent="Player/MeshRoot" instance=ExtResource("1_xmfy2")]

[node name="Skeleton3D" parent="Player/MeshRoot/XBot/Node" index="0"]
bones/0/position = Vector3(-0.0165319, 1.00701, 0.000338381)
bones/0/rotation = Quaternion(-0.0340437, 0.00634899, -0.0684599, 0.997053)
bones/2/rotation = Quaternion(-0.0997033, -0.00791772, 0.0552911, 0.993448)
bones/2/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(0.0150781, -0.00234101, 0.0155211, 0.999763)
bones/4/scale = Vector3(1, 1, 1)
bones/6/rotation = Quaternion(0.0281573, -0.00284244, 0.0151473, 0.999485)
bones/8/rotation = Quaternion(0.571482, -0.499877, 0.547352, 0.352047)
bones/10/rotation = Quaternion(0.477117, -0.146161, -0.103129, 0.860442)
bones/12/rotation = Quaternion(1.35042e-07, -1.0943e-08, -0.248237, 0.968699)
bones/12/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(0.0230249, -0.163866, -0.00580739, 0.986197)
bones/16/rotation = Quaternion(0.168411, 0.00038461, 0.0182714, 0.985547)
bones/16/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(0.163119, -9.40636e-08, 0.0198797, 0.986406)
bones/20/rotation = Quaternion(0.228571, -1.17392e-07, 0.0278566, 0.973129)
bones/22/rotation = Quaternion(-6.42066e-08, 0.00156948, -4.12853e-05, 0.999999)
bones/24/rotation = Quaternion(0.149774, 0.00203199, 0.00469319, 0.988707)
bones/26/rotation = Quaternion(0.167277, -1.62982e-08, 0.0203865, 0.985699)
bones/26/scale = Vector3(1, 1, 1)
bones/28/rotation = Quaternion(0.285587, 0.0207288, 0.0410981, 0.957247)
bones/30/rotation = Quaternion(1.54983e-07, 0.000928814, 0.000166394, 1)
bones/32/rotation = Quaternion(0.212469, 0.00163773, 0.0183312, 0.976994)
bones/32/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(0.130091, 8.33534e-08, 0.0158548, 0.991375)
bones/36/rotation = Quaternion(0.200383, 0.100689, 0.0457243, 0.973457)
bones/38/rotation = Quaternion(-1.33965e-07, 0.000146075, -0.000799286, 1)
bones/38/scale = Vector3(1, 1, 1)
bones/40/rotation = Quaternion(0.213855, -0.0015607, 0.0331607, 0.976301)
bones/42/rotation = Quaternion(0.111299, -5.64978e-08, 0.0135644, 0.993694)
bones/44/rotation = Quaternion(0.194014, -2.71567e-08, 0.0236455, 0.980714)
bones/46/rotation = Quaternion(8.65986e-08, 0.00100269, 8.70583e-05, 0.999999)
bones/48/rotation = Quaternion(0.123893, 0.0616086, -0.156999, 0.977858)
bones/48/scale = Vector3(1, 1, 1)
bones/50/rotation = Quaternion(-0.0660821, 0.0355513, 0.207821, 0.975285)
bones/52/rotation = Quaternion(0.0193384, -0.00176375, -0.0245457, 0.99951)
bones/54/rotation = Quaternion(0.00577485, -0.117509, -0.0487437, 0.991858)
bones/56/rotation = Quaternion(0.0445354, 0.00425654, -0.0314111, 0.998505)
bones/56/scale = Vector3(1, 1, 1)
bones/58/rotation = Quaternion(-0.0961583, -0.00191959, -0.00153541, 0.995363)
bones/61/rotation = Quaternion(-0.571331, -0.501679, 0.538754, -0.362826)
bones/61/scale = Vector3(1, 1, 1)
bones/63/rotation = Quaternion(0.57264, 0.06452, 0.0431579, 0.816124)
bones/65/rotation = Quaternion(-1.60187e-07, 1.35042e-08, 0.192052, 0.981385)
bones/65/scale = Vector3(1, 1, 1)
bones/67/rotation = Quaternion(0.0187479, 0.125602, 0.0693307, 0.989478)
bones/67/scale = Vector3(1, 1, 1)
bones/69/rotation = Quaternion(0.12473, -0.0702537, 0.119806, 0.982422)
bones/71/rotation = Quaternion(-0.0114808, 0.00322687, -0.0971357, 0.9952)
bones/71/scale = Vector3(1, 1, 1)
bones/73/rotation = Quaternion(-0.0586997, -0.0921659, -0.0348562, 0.993401)
bones/73/scale = Vector3(1, 1, 1)
bones/75/rotation = Quaternion(0.00515341, 0.122683, 0.0416515, 0.991558)
bones/77/rotation = Quaternion(0.140786, -0.00195124, -0.00310618, 0.990033)
bones/79/rotation = Quaternion(0.171406, -6.65896e-08, -0.020685, 0.984983)
bones/81/rotation = Quaternion(0.227903, -3.70983e-07, -0.0275032, 0.973295)
bones/83/rotation = Quaternion(1.05946e-08, -0.000377563, -1.30695e-05, 1)
bones/85/rotation = Quaternion(0.0895022, -0.000885456, -0.000848659, 0.995986)
bones/87/rotation = Quaternion(0.17914, -2.71015e-07, -0.0216184, 0.983586)
bones/87/scale = Vector3(1, 1, 1)
bones/89/rotation = Quaternion(0.22361, -3.67814e-07, -0.0269857, 0.974305)
bones/91/rotation = Quaternion(-2.67594e-08, -0.00102414, 2.79848e-05, 0.999999)
bones/93/rotation = Quaternion(0.147577, -0.000799347, -0.0124303, 0.988972)
bones/95/rotation = Quaternion(0.17351, -1.83471e-07, -0.0209393, 0.98461)
bones/97/rotation = Quaternion(0.263737, -4.48733e-07, -0.0318278, 0.96407)
bones/101/rotation = Quaternion(0.152912, 0.00474874, -0.0483821, 0.987043)
bones/101/scale = Vector3(1, 1, 1)
bones/103/rotation = Quaternion(0.190769, 0.00669745, 0.0122485, 0.981536)
bones/105/rotation = Quaternion(0.200486, -2.58337e-07, -0.0241946, 0.979398)
bones/107/rotation = Quaternion(2.20347e-07, -0.000783399, -0.000295386, 1)
bones/107/scale = Vector3(1, 1, 1)
bones/109/rotation = Quaternion(-0.0649723, 0.0586339, 0.993617, -0.071182)
bones/111/rotation = Quaternion(0.228936, -0.0661913, -0.0234764, -0.970905)
bones/113/rotation = Quaternion(0.549193, -0.0107366, -0.0293225, 0.835112)
bones/115/rotation = Quaternion(0.340103, 2.77105e-08, -1.99536e-07, 0.940388)
bones/119/rotation = Quaternion(0.0531906, 0.137787, 0.983277, -0.106542)
bones/121/rotation = Quaternion(0.326864, 0.011272, 0.0247854, -0.944679)
bones/121/scale = Vector3(1, 1, 1)
bones/123/rotation = Quaternion(0.575562, -0.0371218, 0.0105553, 0.816847)
bones/125/rotation = Quaternion(0.317778, 3.78629e-06, 1.20397e-06, 0.948165)

[node name="AnimationTree" type="AnimationTree" parent="Player/MeshRoot"]
root_node = NodePath("../XBot")
tree_root = SubResource("AnimationNodeBlendTree_n0odk")
anim_player = NodePath("../XBot/AnimationPlayer")
parameters/Bellydancing/active = false
parameters/Bellydancing/internal_active = false
parameters/Bellydancing/request = 0
"parameters/Crouch Movement/current_state" = "Idle"
"parameters/Crouch Movement/transition_request" = ""
"parameters/Crouch Movement/current_index" = 0
"parameters/Idle Crouch TimeScale/scale" = 1.0
"parameters/Idle Upright TimeScale/scale" = 1.0
parameters/Jump/active = false
parameters/Jump/internal_active = false
parameters/Jump/request = 0
"parameters/Run Crouch TimeScale/scale" = 1.5
"parameters/Run Upright TimeScale/scale" = 1.0
"parameters/Stance Transition/current_state" = "Upright"
"parameters/Stance Transition/transition_request" = ""
"parameters/Stance Transition/current_index" = 0
"parameters/Upright Movement/current_state" = "Idle"
"parameters/Upright Movement/transition_request" = ""
"parameters/Upright Movement/current_index" = 0
"parameters/Walk Crouch TimeScale/scale" = 1.0
"parameters/Walk Upright TimeScale/scale" = 1.0

[node name="CamRoot" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)
script = ExtResource("2_le3fx")

[node name="CamYaw" type="Node3D" parent="Player/CamRoot"]

[node name="CamPitch" type="Node3D" parent="Player/CamRoot/CamYaw"]

[node name="SpringArm3D" type="SpringArm3D" parent="Player/CamRoot/CamYaw/CamPitch"]
shape = SubResource("SphereShape3D_ap2id")
spring_length = -4.0

[node name="Camera3D" type="Camera3D" parent="Player/CamRoot/CamYaw/CamPitch/SpringArm3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="UprightCollision" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CylinderShape3D_on3if")

[node name="UprightRayCast3D" type="RayCast3D" parent="Player/UprightCollision"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, 0)
target_position = Vector3(0, 0.3, 0)
hit_back_faces = false

[node name="CrouchCollision" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, 0)
shape = SubResource("CylinderShape3D_glxyi")

[node name="CrouchRayCast3D" type="RayCast3D" parent="Player/CrouchCollision"]
visible = false
target_position = Vector3(0, 0, 0)
collision_mask = 0
hit_back_faces = false
collide_with_bodies = false

[connection signal="changed_movement_direction" from="Player" to="Player/MovementController" method="on_set_movement_direction"]
[connection signal="changed_movement_state" from="Player" to="Player/MovementController" method="on_set_movement_state"]
[connection signal="changed_movement_state" from="Player" to="Player/AnimationController" method="handle_animations"]
[connection signal="changed_movement_state" from="Player" to="Player/CamRoot" method="on_set_movement_state"]
[connection signal="pressed_jump" from="Player" to="Player/MovementController" method="jump"]
[connection signal="pressed_jump" from="Player" to="Player/AnimationController" method="jump"]
[connection signal="timeout" from="Player/AfkTimer" to="Player/AnimationController" method="on_afk_triggered"]
[connection signal="animation_finished" from="Player/MeshRoot/AnimationTree" to="Player/AnimationController" method="_on_animation_tree_animation_finished"]
[connection signal="set_cam_rotation" from="Player/CamRoot" to="Player/MovementController" method="on_set_cam_rotation"]

[editable path="Player/MeshRoot/XBot"]
