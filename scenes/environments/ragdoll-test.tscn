[gd_scene load_steps=49 format=3 uid="uid://be7lbu7kwann1"]

[ext_resource type="Script" path="res://scripts/characters/player.gd" id="1_kvcmd"]
[ext_resource type="PackedScene" uid="uid://cx8phlas3stgx" path="res://scenes/characters/x-bot.tscn" id="1_xmfy2"]
[ext_resource type="Resource" uid="uid://qgqh4meckqi4" path="res://scripts/characters/MovementStates/upright/upright_idle.tres" id="2_0gb1c"]
[ext_resource type="Script" path="res://scripts/characters/camera-controller.gd" id="2_le3fx"]
[ext_resource type="Resource" uid="uid://kuhhmw2ux6dd" path="res://scripts/characters/MovementStates/upright/upright_sprint.tres" id="3_551lk"]
[ext_resource type="Resource" uid="uid://b6eacjajv1d58" path="res://scripts/characters/MovementStates/upright/upright_walk.tres" id="4_helw0"]
[ext_resource type="Script" path="res://scripts/characters/movement-controller.gd" id="5_am0s3"]
[ext_resource type="Script" path="res://scripts/characters/animation-controller.gd" id="6_lcjyk"]
[ext_resource type="Script" path="res://scripts/characters/stance.gd" id="7_viend"]
[ext_resource type="Resource" uid="uid://t7gtru1rq7vu" path="res://scripts/characters/MovementStates/crouch/crouch_idle.tres" id="8_piwpb"]
[ext_resource type="Resource" uid="uid://btts67hotmaix" path="res://scripts/characters/MovementStates/crouch/crouch_walk.tres" id="9_7uvns"]
[ext_resource type="Resource" uid="uid://c8kbo51u8g3p6" path="res://scripts/characters/MovementStates/crouch/crouch_sprint.tres" id="10_3oos8"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_uau8y"]

[sub_resource type="Sky" id="Sky_q1m2t"]
sky_material = SubResource("ProceduralSkyMaterial_uau8y")

[sub_resource type="Environment" id="Environment_0tkht"]
background_mode = 2
sky = SubResource("Sky_q1m2t")
ambient_light_source = 3
tonemap_mode = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pynob"]
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y5qvw"]
animation = &"CrouchIdle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v4w36"]
animation = &"UprightIdle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_f1myb"]
animation = &"Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_w67r0"]
animation = &"CrouchWalk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0xtwe"]
animation = &"UprightRun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ohpo4"]
animation = &"CrouchWalk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ra1ve"]
animation = &"UprightWalk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_el3n7"]
animation = &"Angry"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hw186"]
animation = &"Bellydancing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0hysf"]
animation = &"Bellydancing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oenuo"]
animation = &"Flexing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5t28t"]
animation = &"StandingClap"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bk064"]
animation = &"Stumble"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_eic6d"]
blend_point_0/node = SubResource("AnimationNodeAnimation_el3n7")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_hw186")
blend_point_1/pos = 0.0
blend_point_2/node = SubResource("AnimationNodeAnimation_0hysf")
blend_point_2/pos = 1.0
blend_point_3/node = SubResource("AnimationNodeAnimation_oenuo")
blend_point_3/pos = 2.0
blend_point_4/node = SubResource("AnimationNodeAnimation_5t28t")
blend_point_4/pos = 3.0
blend_point_5/node = SubResource("AnimationNodeAnimation_bk064")
blend_point_5/pos = 4.0
min_space = 0.0
max_space = 4.0
snap = 1.0
blend_mode = 1

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_eoli0"]
nodes/BlendSpace1D/node = SubResource("AnimationNodeBlendSpace1D_eic6d")
nodes/BlendSpace1D/position = Vector2(550, 160)
nodes/output/position = Vector2(720, 170)
node_connections = [&"output", 0, &"BlendSpace1D"]

[sub_resource type="Curve" id="Curve_yt6d1"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_ghgc3"]
xfade_time = 0.25
xfade_curve = SubResource("Curve_yt6d1")
input_0/name = "Idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "Walk"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "Run"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_s8lhk"]
fadein_time = 0.25
fadeout_time = 0.25

[sub_resource type="Curve" id="Curve_xlh2o"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_f0agk"]
xfade_time = 0.25
xfade_curve = SubResource("Curve_xlh2o")
input_0/name = "Upright"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "Crouch"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "AFK"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_uckkw"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_fhl4w"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_rdd5f"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_2uaip"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_20bkf"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_asgyr"]

[sub_resource type="Curve" id="Curve_i8ebs"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_alipg"]
xfade_time = 0.25
xfade_curve = SubResource("Curve_i8ebs")
input_0/name = "Idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "Walk"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "Run"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_n0odk"]
graph_offset = Vector2(-73.029, 601.079)
"nodes/Anim Idle Crouch/node" = SubResource("AnimationNodeAnimation_y5qvw")
"nodes/Anim Idle Crouch/position" = Vector2(-130, 960)
"nodes/Anim Idle Upright/node" = SubResource("AnimationNodeAnimation_v4w36")
"nodes/Anim Idle Upright/position" = Vector2(-130, 530)
"nodes/Anim Jump/node" = SubResource("AnimationNodeAnimation_f1myb")
"nodes/Anim Jump/position" = Vector2(680, 1120)
"nodes/Anim Run Crouch/node" = SubResource("AnimationNodeAnimation_w67r0")
"nodes/Anim Run Crouch/position" = Vector2(-130, 1240)
"nodes/Anim Run Upright/node" = SubResource("AnimationNodeAnimation_0xtwe")
"nodes/Anim Run Upright/position" = Vector2(-130, 810)
"nodes/Anim Walk Crouch/node" = SubResource("AnimationNodeAnimation_ohpo4")
"nodes/Anim Walk Crouch/position" = Vector2(-130, 1100)
"nodes/Anim Walk Upright/node" = SubResource("AnimationNodeAnimation_ra1ve")
"nodes/Anim Walk Upright/position" = Vector2(-130, 670)
"nodes/BlendTree AFK/node" = SubResource("AnimationNodeBlendTree_eoli0")
"nodes/BlendTree AFK/position" = Vector2(490, 1120)
"nodes/Crouch Movement/node" = SubResource("AnimationNodeTransition_ghgc3")
"nodes/Crouch Movement/position" = Vector2(290, 1040)
nodes/Jump/node = SubResource("AnimationNodeOneShot_s8lhk")
nodes/Jump/position = Vector2(680, 890)
"nodes/Stance Transition/node" = SubResource("AnimationNodeTransition_f0agk")
"nodes/Stance Transition/position" = Vector2(490, 890)
"nodes/TimeScale Idle Crouch/node" = SubResource("AnimationNodeTimeScale_uckkw")
"nodes/TimeScale Idle Crouch/position" = Vector2(60, 950)
"nodes/TimeScale Idle Upright/node" = SubResource("AnimationNodeTimeScale_fhl4w")
"nodes/TimeScale Idle Upright/position" = Vector2(60, 520)
"nodes/TimeScale Run Crouch/node" = SubResource("AnimationNodeTimeScale_rdd5f")
"nodes/TimeScale Run Crouch/position" = Vector2(60, 1230)
"nodes/TimeScale Run Upright/node" = SubResource("AnimationNodeTimeScale_2uaip")
"nodes/TimeScale Run Upright/position" = Vector2(60, 800)
"nodes/TimeScale Walk Crouch/node" = SubResource("AnimationNodeTimeScale_20bkf")
"nodes/TimeScale Walk Crouch/position" = Vector2(60, 1090)
"nodes/TimeScale Walk Upright/node" = SubResource("AnimationNodeTimeScale_asgyr")
"nodes/TimeScale Walk Upright/position" = Vector2(60, 660)
"nodes/Upright Movement/node" = SubResource("AnimationNodeTransition_alipg")
"nodes/Upright Movement/position" = Vector2(290, 610)
nodes/output/position = Vector2(840, 900)
node_connections = [&"Crouch Movement", 0, &"TimeScale Idle Crouch", &"Crouch Movement", 1, &"TimeScale Walk Crouch", &"Crouch Movement", 2, &"TimeScale Run Crouch", &"Jump", 0, &"Stance Transition", &"Jump", 1, &"Anim Jump", &"Stance Transition", 0, &"Upright Movement", &"Stance Transition", 1, &"Crouch Movement", &"Stance Transition", 2, &"BlendTree AFK", &"TimeScale Idle Crouch", 0, &"Anim Idle Crouch", &"TimeScale Idle Upright", 0, &"Anim Idle Upright", &"TimeScale Run Crouch", 0, &"Anim Run Crouch", &"TimeScale Run Upright", 0, &"Anim Run Upright", &"TimeScale Walk Crouch", 0, &"Anim Walk Crouch", &"TimeScale Walk Upright", 0, &"Anim Walk Upright", &"Upright Movement", 0, &"TimeScale Idle Upright", &"Upright Movement", 1, &"TimeScale Walk Upright", &"Upright Movement", 2, &"TimeScale Run Upright", &"output", 0, &"Jump"]

[sub_resource type="SphereShape3D" id="SphereShape3D_ap2id"]
radius = 0.07

[sub_resource type="CylinderShape3D" id="CylinderShape3D_on3if"]
height = 1.8
radius = 0.3

[sub_resource type="CylinderShape3D" id="CylinderShape3D_glxyi"]
height = 1.5
radius = 0.3

[node name="RagdollTest" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_0tkht")

[node name="Lights" type="Node" parent="."]

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
use_collision = true
size = Vector3(1000, 1, 1000)
material = SubResource("StandardMaterial3D_pynob")

[node name="Wall" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 5)
use_collision = true
size = Vector3(10, 4, 3)
material = SubResource("StandardMaterial3D_pynob")

[node name="Ceiling" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 3.75, 10)
use_collision = true
size = Vector3(10, 4, 3)
material = SubResource("StandardMaterial3D_pynob")

[node name="Player" type="CharacterBody3D" parent="." node_paths=PackedStringArray("afk_timer")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 8.28749)
script = ExtResource("1_kvcmd")
stances = {
"crouch": NodePath("Stances/crouch"),
"upright": NodePath("Stances/upright")
}
afk_timer = NodePath("AfkTimer")

[node name="MovementController" type="Node" parent="Player" node_paths=PackedStringArray("player", "mesh_root")]
script = ExtResource("5_am0s3")
player = NodePath("..")
mesh_root = NodePath("../MeshRoot")

[node name="AnimationController" type="Node" parent="Player" node_paths=PackedStringArray("player", "anim_tree", "anim_player")]
script = ExtResource("6_lcjyk")
player = NodePath("..")
anim_tree = NodePath("../MeshRoot/AnimationTree")
anim_player = NodePath("../MeshRoot/XBot/AnimationPlayer")

[node name="Stances" type="Node" parent="Player"]

[node name="upright" type="Node" parent="Player/Stances" node_paths=PackedStringArray("collider", "col_raycast")]
script = ExtResource("7_viend")
idle_state = ExtResource("2_0gb1c")
walk_state = ExtResource("4_helw0")
sprint_state = ExtResource("3_551lk")
collider = NodePath("../../UprightCollision")
col_raycast = NodePath("../../UprightCollision/UprightRayCast3D")

[node name="crouch" type="Node" parent="Player/Stances" node_paths=PackedStringArray("collider", "col_raycast")]
script = ExtResource("7_viend")
idle_state = ExtResource("8_piwpb")
walk_state = ExtResource("9_7uvns")
sprint_state = ExtResource("10_3oos8")
camera_height = 0.85
collider = NodePath("../../CrouchCollision")
col_raycast = NodePath("../../CrouchCollision/CrouchRayCast3D")

[node name="AfkTimer" type="Timer" parent="Player"]
one_shot = true

[node name="MeshRoot" type="Node3D" parent="Player"]

[node name="XBot" parent="Player/MeshRoot" instance=ExtResource("1_xmfy2")]

[node name="Skeleton3D" parent="Player/MeshRoot/XBot/Node" index="0"]
bones/0/position = Vector3(0.00478525, 1.01631, 0.0155528)
bones/0/rotation = Quaternion(-0.00197914, 0.0130849, -0.0469352, 0.99881)
bones/0/scale = Vector3(1, 1, 1)
bones/2/rotation = Quaternion(-0.0691066, -0.0124822, 0.025418, 0.997207)
bones/2/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(0.0064704, -0.00567491, 0.0515937, 0.998631)
bones/4/scale = Vector3(1, 1, 1)
bones/6/rotation = Quaternion(0.0194103, -0.000424211, 0.0514955, 0.998484)
bones/6/scale = Vector3(1, 1, 1)
bones/8/rotation = Quaternion(-0.540223, 0.557484, -0.512407, -0.367166)
bones/10/rotation = Quaternion(0.531285, -0.049853, -0.0982947, 0.839994)
bones/10/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(-8.11038e-08, 1.21886e-07, -0.154165, 0.988045)
bones/14/rotation = Quaternion(0.0953922, 0.103832, 0.0702526, 0.987514)
bones/14/scale = Vector3(1, 1, 1)
bones/16/rotation = Quaternion(0.306915, -0.00156547, 0.147348, 0.94026)
bones/16/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(0.387214, 0.0027164, 0.0374548, 0.921225)
bones/18/scale = Vector3(1, 1, 1)
bones/20/rotation = Quaternion(0.191869, 0.00664715, 0.00090258, 0.981398)
bones/20/scale = Vector3(1, 1, 1)
bones/22/rotation = Quaternion(-6.42066e-08, 0.00156948, -4.12853e-05, 0.999999)
bones/22/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(0.136708, 0.00266384, 0.0768151, 0.987625)
bones/26/rotation = Quaternion(0.286913, 0.00232881, 0.0356575, 0.95729)
bones/26/scale = Vector3(1, 1, 1)
bones/28/rotation = Quaternion(0.138249, 0.000167349, 0.0148579, 0.990286)
bones/30/rotation = Quaternion(1.54983e-07, 0.000928814, 0.000166394, 1)
bones/32/rotation = Quaternion(0.229205, 0.00207743, 0.104038, 0.9678)
bones/32/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(0.343075, -0.00235252, 0.0369727, 0.938577)
bones/36/rotation = Quaternion(0.154842, 0.00131415, -0.000516788, 0.987938)
bones/38/rotation = Quaternion(-1.33965e-07, 0.000146075, -0.000799286, 1)
bones/38/scale = Vector3(1, 1, 1)
bones/40/rotation = Quaternion(0.0682233, -0.000166258, 0.0408611, 0.996833)
bones/40/scale = Vector3(1, 1, 1)
bones/42/rotation = Quaternion(0.178375, 0.00107584, 0.0248458, 0.983648)
bones/44/rotation = Quaternion(0.12052, 0.00190067, 0.00167203, 0.992708)
bones/46/rotation = Quaternion(8.65986e-08, 0.00100269, 8.70583e-05, 0.999999)
bones/46/scale = Vector3(1, 1, 1)
bones/48/rotation = Quaternion(0.19659, -0.116281, -0.201326, 0.952523)
bones/50/rotation = Quaternion(-0.0417118, 0.132775, 0.245904, 0.959251)
bones/50/scale = Vector3(1, 1, 1)
bones/52/rotation = Quaternion(-0.00235276, 0.0229111, 0.0721764, 0.997126)
bones/54/rotation = Quaternion(0.00577485, -0.117509, -0.0487437, 0.991858)
bones/56/rotation = Quaternion(0.00917045, -0.000170664, -0.0190686, 0.999776)
bones/58/rotation = Quaternion(0.0134586, 0.0142904, -0.0696864, 0.997376)
bones/58/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(0.588593, 0.510259, -0.471489, 0.413391)
bones/61/scale = Vector3(1, 1, 1)
bones/63/rotation = Quaternion(0.642924, 0.0715637, 0.0326392, 0.761881)
bones/65/rotation = Quaternion(-8.77187e-08, 5.43076e-09, 0.126257, 0.991998)
bones/67/rotation = Quaternion(0.08734, -0.240114, -0.011672, 0.966737)
bones/67/scale = Vector3(1, 1, 1)
bones/69/rotation = Quaternion(0.196564, 0.116394, 0.20135, 0.952509)
bones/69/scale = Vector3(1, 1, 1)
bones/71/rotation = Quaternion(-0.0416832, -0.132898, -0.245909, 0.959234)
bones/71/scale = Vector3(1, 1, 1)
bones/73/rotation = Quaternion(-0.00957182, -0.0222332, -0.0794215, 0.996547)
bones/73/scale = Vector3(1, 1, 1)
bones/75/rotation = Quaternion(0.00515341, 0.122683, 0.0416515, 0.991558)
bones/77/rotation = Quaternion(0.0682229, 0.0001662, -0.0408604, 0.996833)
bones/79/rotation = Quaternion(0.178375, -0.00107607, -0.0248444, 0.983648)
bones/79/scale = Vector3(1, 1, 1)
bones/81/rotation = Quaternion(0.0886279, -0.000330936, -0.00712681, 0.996039)
bones/83/rotation = Quaternion(1.05946e-08, -0.000377563, -1.30695e-05, 1)
bones/85/rotation = Quaternion(0.136709, -0.002664, -0.0768145, 0.987625)
bones/87/rotation = Quaternion(0.286913, -0.0023293, -0.0356554, 0.95729)
bones/89/rotation = Quaternion(0.106794, 9.1843e-05, -0.0130775, 0.994195)
bones/89/scale = Vector3(1, 1, 1)
bones/91/rotation = Quaternion(-2.67594e-08, -0.00102414, 2.79848e-05, 0.999999)
bones/93/rotation = Quaternion(0.229205, -0.00207789, -0.104037, 0.9678)
bones/95/rotation = Quaternion(0.343075, 0.00235211, -0.0369705, 0.938577)
bones/95/scale = Vector3(1, 1, 1)
bones/97/rotation = Quaternion(0.16791, 0.00199597, -0.0165843, 0.985661)
bones/97/scale = Vector3(1, 1, 1)
bones/101/rotation = Quaternion(0.306915, 0.00156511, -0.147346, 0.940261)
bones/101/scale = Vector3(1, 1, 1)
bones/103/rotation = Quaternion(0.387214, -0.00271721, -0.0374529, 0.921225)
bones/103/scale = Vector3(1, 1, 1)
bones/105/rotation = Quaternion(0.177995, -0.000258849, -0.0252555, 0.983707)
bones/107/rotation = Quaternion(2.20347e-07, -0.000783399, -0.000295386, 1)
bones/107/scale = Vector3(1, 1, 1)
bones/109/rotation = Quaternion(-0.041618, 0.0281984, 0.994435, -0.0925852)
bones/109/scale = Vector3(1, 1, 1)
bones/111/rotation = Quaternion(-0.144712, 0.0464225, 0.0249351, 0.98807)
bones/113/rotation = Quaternion(0.533501, -0.0298305, -0.0613353, 0.843045)
bones/115/rotation = Quaternion(0.339749, 2.40761e-08, -1.02673e-07, 0.940516)
bones/115/scale = Vector3(1, 1, 1)
bones/119/rotation = Quaternion(0.115549, 0.164641, 0.972201, -0.119859)
bones/119/scale = Vector3(1, 1, 1)
bones/121/rotation = Quaternion(-0.229199, -0.0786965, 0.033467, 0.969616)
bones/121/scale = Vector3(1, 1, 1)
bones/123/rotation = Quaternion(0.471499, -0.056309, -0.0594207, 0.878059)
bones/125/rotation = Quaternion(0.338873, -1.17594e-08, -1.04792e-07, 0.940832)

[node name="AnimationTree" type="AnimationTree" parent="Player/MeshRoot"]
root_node = NodePath("../XBot")
tree_root = SubResource("AnimationNodeBlendTree_n0odk")
anim_player = NodePath("../XBot/AnimationPlayer")
"parameters/BlendTree AFK/BlendSpace1D/blend_position" = 0.0
"parameters/Crouch Movement/current_state" = "Idle"
"parameters/Crouch Movement/transition_request" = ""
"parameters/Crouch Movement/current_index" = 0
parameters/Jump/active = false
parameters/Jump/internal_active = false
parameters/Jump/request = 0
"parameters/Stance Transition/current_state" = "AFK"
"parameters/Stance Transition/transition_request" = ""
"parameters/Stance Transition/current_index" = 2
"parameters/TimeScale Idle Crouch/scale" = 1.0
"parameters/TimeScale Idle Upright/scale" = 1.0
"parameters/TimeScale Run Crouch/scale" = 1.5
"parameters/TimeScale Run Upright/scale" = 1.0
"parameters/TimeScale Walk Crouch/scale" = 1.0
"parameters/TimeScale Walk Upright/scale" = 1.0
"parameters/Upright Movement/current_state" = "Idle"
"parameters/Upright Movement/transition_request" = ""
"parameters/Upright Movement/current_index" = 0

[node name="CamRoot" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)
script = ExtResource("2_le3fx")

[node name="CamYaw" type="Node3D" parent="Player/CamRoot"]

[node name="CamPitch" type="Node3D" parent="Player/CamRoot/CamYaw"]

[node name="SpringArm3D" type="SpringArm3D" parent="Player/CamRoot/CamYaw/CamPitch"]
shape = SubResource("SphereShape3D_ap2id")
spring_length = -4.0

[node name="Camera3D" type="Camera3D" parent="Player/CamRoot/CamYaw/CamPitch/SpringArm3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="UprightCollision" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CylinderShape3D_on3if")

[node name="UprightRayCast3D" type="RayCast3D" parent="Player/UprightCollision"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, 0)
target_position = Vector3(0, 0.3, 0)
hit_back_faces = false

[node name="CrouchCollision" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, 0)
shape = SubResource("CylinderShape3D_glxyi")

[node name="CrouchRayCast3D" type="RayCast3D" parent="Player/CrouchCollision"]
visible = false
target_position = Vector3(0, 0, 0)
collision_mask = 0
hit_back_faces = false
collide_with_bodies = false

[connection signal="changed_movement_direction" from="Player" to="Player/MovementController" method="on_set_movement_direction"]
[connection signal="changed_movement_state" from="Player" to="Player/MovementController" method="on_set_movement_state"]
[connection signal="changed_movement_state" from="Player" to="Player/AnimationController" method="handle_animations"]
[connection signal="changed_movement_state" from="Player" to="Player/CamRoot" method="on_set_movement_state"]
[connection signal="pressed_jump" from="Player" to="Player/MovementController" method="jump"]
[connection signal="pressed_jump" from="Player" to="Player/AnimationController" method="jump"]
[connection signal="timeout" from="Player/AfkTimer" to="Player/AnimationController" method="on_afk_triggered"]
[connection signal="animation_finished" from="Player/MeshRoot/AnimationTree" to="Player/AnimationController" method="_on_animation_tree_animation_finished"]
[connection signal="set_cam_rotation" from="Player/CamRoot" to="Player/MovementController" method="on_set_cam_rotation"]

[editable path="Player/MeshRoot/XBot"]
